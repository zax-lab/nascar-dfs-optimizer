# Phase 5.2: Security & Reliability (Auth, Rate Limiting, Timeouts) - Context

**Gathered:** 2026-01-29
**Status:** Ready for planning

<domain>
## Phase Boundary

Secure the API with JWT authentication and implement rate limiting to prevent resource exhaustion. Current scope: personal/local use with minimal security that can scale to product later.

</domain>

<decisions>
## Implementation Decisions

### Authentication Strategy
- User accounts are admin-created only (no self-service registration)
- Support both HTTP-only cookies (browser clients) and Bearer tokens (API clients)
- Token expiry: Claude decides based on security best practices for personal use
- API key management for machine clients: start simple, expand later if needed

### Deployment Model
- **Current:** Personal/local use only — no internet exposure planned
- **Future:** May productize and release for purchase if predictions prove valuable
- **Security posture:** Build minimal viable security for personal use, but structure so it can be hardened for public release

### Claude's Discretion
- Rate limiting model — simple IP-based or per-API-key for personal use (can add Redis-backed later)
- Protected endpoint scope — minimal auth requirements, just prevent accidents
- Error response contract — use FastAPI standard defaults
- CORS policy — permissive for local development, restrict later for production
- Token expiry duration — use sensible defaults (recommend 24h access / 7d refresh for personal use)

</decisions>

<specifics>
## Specific Ideas

- "I don't know anything about these security things" — keep it simple, explain trade-offs
- Primary concern is preventing accidental misuse, not defending against attacks
- If this works well for predictions, may turn into a purchasable product
- No intention of exposing to internet for personal use phase

</specifics>

<deferred>
## Deferred Ideas

For when transitioning to public product:
- Full Redis-backed rate limiting with distributed storage
- Granular permissions and role-based access control (RBAC)
- Comprehensive audit logging
- Self-service user registration and password reset flows
- OAuth integration (Google, GitHub, etc.)
- Admin dashboard for user/API key management
- Enterprise features (SSO, SAML, SCIM)

</deferred>

---

*Phase: 05-security-reliability-(auth-rate-limiting-timeouts)*
*Context gathered: 2026-01-29*
