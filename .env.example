# NASCAR DFS Backend Environment Configuration
# ==============================================
#
# This file documents all environment variables used by the NASCAR DFS backend.
# Copy this file to .env and fill in your actual values.
#
# Required Variables:
# -------------------
# The application will FAIL on startup if these are missing or invalid.

# Neo4j Database Configuration (Required)
# ----------------------------------------
# NEO4J_URI: Neo4j connection URI
#   - Must use bolt:// or neo4j:// scheme
#   - Format: bolt://host:port or neo4j://host:port
#   - For TLS/SSL in production: bolt+s:// or neo4j+s://
# Examples:
#   Local development: bolt://localhost:7687
#   Docker network:    bolt://neo4j:7687
#   Production with TLS: bolt+s://neo4j.mycompany.com:7687
NEO4J_URI=bolt://localhost:7687

# NEO4J_USER: Neo4j username (required, non-empty)
#   - Default Neo4j user is typically 'neo4j'
#   - Cannot be empty
NEO4J_USER=neo4j

# NEO4J_PASSWORD: Neo4j password (required, minimum 8 characters)
# SECURITY WARNING:
#   - Must be at least 8 characters long
#   - Do not use default/weak passwords in production
#   - Use a secrets manager or environment-specific password
#   - The application will warn about weak passwords on startup
# Examples of weak passwords that will trigger warnings:
#   - password, 12345678, neo4j, admin, password123
NEO4J_PASSWORD=secure_password_2024


# Optional Variables:
# -------------------
# The application will use defaults if these are not provided.

# Redis Configuration
# -------------------
# REDIS_URL: Redis connection URL
#   - Format: redis://host:port
#   - Used for job state persistence and caching
#   - Default: redis://redis:6379
REDIS_URL=redis://localhost:6379

# API Configuration
# -----------------
# API_RATE_LIMIT: Maximum requests per minute per client
#   - Range: 1-10000
#   - Default: 100
#   - Set higher for development, lower for production
#   - Deprecated (use RATE_LIMIT_DEFAULT)
API_RATE_LIMIT=100

# API Authentication
# ------------------
# API_KEYS: Comma-separated API keys (required for non-health endpoints)
#   - Example: dev-key-12345,prod-key-67890
API_KEYS=dev-key-12345

# API_KEY_HEADER: Header name for API key (default: X-API-Key)
API_KEY_HEADER=X-API-Key

# Rate limiting (SlowAPI)
# -----------------------
# RATE_LIMIT_DEFAULT: Default rate limit (e.g., 100/hour)
# RATE_LIMIT_OPTIMIZE: Optimize endpoints (e.g., 10/hour)
# RATE_LIMIT_OWNERSHIP: Ownership endpoints (e.g., 30/hour)
# RATE_LIMIT_CONTEST: Contest simulation (e.g., 20/hour)
# RATE_LIMIT_LEVERAGE: Leverage optimization (e.g., 10/hour)
# RATE_LIMIT_STORAGE_URL: Optional Redis backend (e.g., redis://localhost:6379/1)
RATE_LIMIT_DEFAULT=100/hour
RATE_LIMIT_OPTIMIZE=10/hour
RATE_LIMIT_OWNERSHIP=30/hour
RATE_LIMIT_CONTEST=20/hour
RATE_LIMIT_LEVERAGE=10/hour
RATE_LIMIT_STORAGE_URL=redis://localhost:6379/1

# CORS configuration
# ------------------
# CORS_ALLOW_ORIGINS: Comma-separated list of allowed origins
CORS_ALLOW_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# LOG_LEVEL: Application logging verbosity
#   - Options: DEBUG, INFO, WARNING, ERROR
#   - Default: INFO
#   - Use DEBUG for troubleshooting, INFO for normal operation
LOG_LEVEL=INFO


# Development/Testing Variables:
# ------------------------------
# These are typically only needed during development.

# NASCAR API Configuration (optional - for future data ingestion)
NASCAR_API_URL=https://api.nascar.com

# TinyLlama Model Checkpoint Path (optional - for ML features)
TINYLLAMA_CHECKPOINT=/models/tinyllama

# Frontend API URL (for CORS and API calls from frontend)
# Only needed if running frontend separately
API_URL=http://localhost:8000
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_API_KEY=dev-key-12345


# Legacy Variables (deprecated, use REDIS_URL instead):
# -----------------------------------------------------
# The following variables are deprecated and will be removed in a future version.
# Please use REDIS_URL instead which provides the same functionality.
# REDIS_HOST=redis
# REDIS_PORT=6379
